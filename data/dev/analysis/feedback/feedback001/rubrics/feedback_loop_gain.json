{
  "rubric_id": "feedback_loop_gain",
  "version": "0.1.0",
  "weights": { "loop_gain_expression": 0.60, "grounded_evidence": 0.30, "correctness": 0.10 },
  "criteria": [
    {
      "id": "loop_gain_expression",
      "desc": "Provides correct loop gain expression: T = A0 or A(s) or Aol (opamp open-loop gain for TIA).",
      "section": "Key relation",
      "required": true,
      "patterns_any": ["T = A0", "T = A(s)", "T = Aol", "loop gain = A0", "loop gain = Aol", "A0", "A(s)", "Aol", "A_ol", "open-loop gain"],
      "min_any": 1,
      "weight": 0.60
    },
    {
      "id": "grounded_evidence",
      "desc": "Cites element IDs (XU2, opamp) and parameters (Aol, GBW) from the artifact.",
      "section": "Grounded evidence",
      "patterns_any": ["XU2", "opamp", "Aol", "GBW", "100K", "10Meg"],
      "min_any": 2,
      "weight": 0.30
    },
    {
      "id": "correctness",
      "desc": "Avoids confusing loop gain with closed-loop gain or transimpedance.",
      "anti_patterns": ["-R1", "Vout/Iin", "closed-loop transimpedance"],
      "weight": 0.10
    }
  ],
  "scoring": { "hallucination_penalty": 0.15, "min_pass": 0.70 }
}

