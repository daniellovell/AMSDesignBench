# Common rubric parameters for device swap debugging (OTA subfamily)

# Weights
weight_fault_id: 0.45
weight_fix: 0.30
weight_grounding: 0.15
weight_safety: 0.10

# fault_id criterion
fault_id_section: "Fault"
fault_id_patterns_any: "PMOS; NMOS; swapped; wrong type; wrong polarity"
fault_id_min_any: 2
fault_id_anti_patterns: "two-stage; Miller"
fault_id_guidance: "Identify the specific device ID and describe the type mismatch (PMOS vs NMOS) consistent with refs.swapped_id/from_type/to_type."

# fix criterion
fix_section: "Fix"
fix_patterns_any: "change; to NMOS; to PMOS; to nch; to pch; body to 0; body to VDD"
fix_min_any: 1
fix_guidance: "Propose a concrete fix: change device model to correct type and specify correct body connection."

# grounding criterion
grounded_min_refs: 1
grounded_guidance: "Reference the real element (e.g., M1) from inventory and cite a line number or node connection."

# safety criterion
safety_guidance: "Avoid asserting elements or nodes not present in inventory.allowed_ids."

# Scoring
hallucination_penalty: 0.25
min_pass: 0.70
