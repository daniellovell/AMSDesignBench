weight_structural_correctness: 0.70
weight_topology_terms: 0.20
weight_safety: 0.10

structural_correctness_guidance: "Netlist structure matches noninverting amplifier â€” opamp with signal at non-inverting input, resistive divider from output to inverting input and ground."
topology_patterns_any: "noninverting; non-inverting; voltage follower; buffer"
topology_min_any: 1
safety_anti_patterns: "inverting amplifier; inverting configuration; positive feedback"

hallucination_penalty: 0.15
min_pass: 0.70
answer_key_SPICE: |
  .subckt opamp in_n in_p out
  	* opamp implementation
  .ends opamp
  XU1 N001 S_in S_out opamp Aol=100K GBW=10Meg
  R1 0 N001 R
  R2 S_out N001 R
  .backanno
  .end
  
